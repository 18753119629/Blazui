@inherits MenuContainer
<CascadingValue Value=this>
    <CascadingValue Value="Options">
        <ul role="menubar" class="@modeClass el-menu">@ChildContent</ul>
    </CascadingValue>
</CascadingValue>

@functions {

    [Parameter]
    private string Mode { get; set; } = "vertical";
    private string modeClass;

    [Parameter]
    private RenderFragment ChildContent { get; set; }

    [Parameter]
    private bool Collapse { get; set; } = false;

    [Parameter]
    private string BackgroundColor { get; set; }

    [Parameter]
    private string TextColor { get; set; }

    [Parameter]
    private string ActiveTextColor { get; set; } = "#409EFF";

    [Parameter]
    private string HoverColor { get; set; } = "#ecf5ff";

    [Parameter]
    private string DefaultActive { get; set; }

    private MenuOptions Options { get; set; }

    protected override void OnInit()
    {
        modeClass = Mode == "horizontal" ? "el-menu--horizontal" : "";

        Options = new MenuOptions
        {
            BackgroundColor = BackgroundColor,
            ActiveTextColor = ActiveTextColor,
            TextColor = TextColor,
            DefaultActiveIndex = DefaultActive,
            HoverColor = HoverColor,
            Mode = Mode
        };

        base.OnInit();
    }
}
